{"ast":null,"code":"!function (e, t) {\n  if (\"object\" == typeof exports && \"object\" == typeof module) module.exports = t();else if (\"function\" == typeof define && define.amd) define([], t);else {\n    var n = t();\n    for (var r in n) (\"object\" == typeof exports ? exports : e)[r] = n[r];\n  }\n}(this, function () {\n  return (() => {\n    \"use strict\";\n\n    var e = {\n        870: (e, t, n) => {\n          n.r(t), n.d(t, {\n            createEndpoint: () => o,\n            expose: () => l,\n            proxy: () => v,\n            proxyMarker: () => r,\n            releaseProxy: () => a,\n            transfer: () => y,\n            transferHandlers: () => c,\n            windowEndpoint: () => g,\n            wrap: () => f\n          });\n          const r = Symbol(\"Comlink.proxy\"),\n            o = Symbol(\"Comlink.endpoint\"),\n            a = Symbol(\"Comlink.releaseProxy\"),\n            i = Symbol(\"Comlink.thrown\"),\n            s = e => \"object\" == typeof e && null !== e || \"function\" == typeof e,\n            c = new Map([[\"proxy\", {\n              canHandle: e => s(e) && e[r],\n              serialize(e) {\n                const {\n                  port1: t,\n                  port2: n\n                } = new MessageChannel();\n                return l(e, t), [n, [n]];\n              },\n              deserialize: e => (e.start(), f(e))\n            }], [\"throw\", {\n              canHandle: e => s(e) && i in e,\n              serialize({\n                value: e\n              }) {\n                let t;\n                return t = e instanceof Error ? {\n                  isError: !0,\n                  value: {\n                    message: e.message,\n                    name: e.name,\n                    stack: e.stack\n                  }\n                } : {\n                  isError: !1,\n                  value: e\n                }, [t, []];\n              },\n              deserialize(e) {\n                if (e.isError) throw Object.assign(new Error(e.value.message), e.value);\n                throw e.value;\n              }\n            }]]);\n          function l(e, t = self) {\n            t.addEventListener(\"message\", function n(r) {\n              if (!r || !r.data) return;\n              const {\n                  id: o,\n                  type: a,\n                  path: s\n                } = Object.assign({\n                  path: []\n                }, r.data),\n                c = (r.data.argumentList || []).map(w);\n              let f;\n              try {\n                const t = s.slice(0, -1).reduce((e, t) => e[t], e),\n                  n = s.reduce((e, t) => e[t], e);\n                switch (a) {\n                  case 0:\n                    f = n;\n                    break;\n                  case 1:\n                    t[s.slice(-1)[0]] = w(r.data.value), f = !0;\n                    break;\n                  case 2:\n                    f = n.apply(t, c);\n                    break;\n                  case 3:\n                    f = v(new n(...c));\n                    break;\n                  case 4:\n                    {\n                      const {\n                        port1: t,\n                        port2: n\n                      } = new MessageChannel();\n                      l(e, n), f = y(t, [t]);\n                    }\n                    break;\n                  case 5:\n                    f = void 0;\n                }\n              } catch (e) {\n                f = {\n                  value: e,\n                  [i]: 0\n                };\n              }\n              Promise.resolve(f).catch(e => ({\n                value: e,\n                [i]: 0\n              })).then(e => {\n                const [r, i] = b(e);\n                t.postMessage(Object.assign(Object.assign({}, r), {\n                  id: o\n                }), i), 5 === a && (t.removeEventListener(\"message\", n), u(t));\n              });\n            }), t.start && t.start();\n          }\n          function u(e) {\n            (function (e) {\n              return \"MessagePort\" === e.constructor.name;\n            })(e) && e.close();\n          }\n          function f(e, t) {\n            return d(e, [], t);\n          }\n          function p(e) {\n            if (e) throw new Error(\"Proxy has been released and is not useable\");\n          }\n          function d(e, t = [], n = function () {}) {\n            let r = !1;\n            const i = new Proxy(n, {\n              get(n, o) {\n                if (p(r), o === a) return () => E(e, {\n                  type: 5,\n                  path: t.map(e => e.toString())\n                }).then(() => {\n                  u(e), r = !0;\n                });\n                if (\"then\" === o) {\n                  if (0 === t.length) return {\n                    then: () => i\n                  };\n                  const n = E(e, {\n                    type: 0,\n                    path: t.map(e => e.toString())\n                  }).then(w);\n                  return n.then.bind(n);\n                }\n                return d(e, [...t, o]);\n              },\n              set(n, o, a) {\n                p(r);\n                const [i, s] = b(a);\n                return E(e, {\n                  type: 1,\n                  path: [...t, o].map(e => e.toString()),\n                  value: i\n                }, s).then(w);\n              },\n              apply(n, a, i) {\n                p(r);\n                const s = t[t.length - 1];\n                if (s === o) return E(e, {\n                  type: 4\n                }).then(w);\n                if (\"bind\" === s) return d(e, t.slice(0, -1));\n                const [c, l] = m(i);\n                return E(e, {\n                  type: 2,\n                  path: t.map(e => e.toString()),\n                  argumentList: c\n                }, l).then(w);\n              },\n              construct(n, o) {\n                p(r);\n                const [a, i] = m(o);\n                return E(e, {\n                  type: 3,\n                  path: t.map(e => e.toString()),\n                  argumentList: a\n                }, i).then(w);\n              }\n            });\n            return i;\n          }\n          function m(e) {\n            const t = e.map(b);\n            return [t.map(e => e[0]), (n = t.map(e => e[1]), Array.prototype.concat.apply([], n))];\n            var n;\n          }\n          const h = new WeakMap();\n          function y(e, t) {\n            return h.set(e, t), e;\n          }\n          function v(e) {\n            return Object.assign(e, {\n              [r]: !0\n            });\n          }\n          function g(e, t = self, n = \"*\") {\n            return {\n              postMessage: (t, r) => e.postMessage(t, n, r),\n              addEventListener: t.addEventListener.bind(t),\n              removeEventListener: t.removeEventListener.bind(t)\n            };\n          }\n          function b(e) {\n            for (const [t, n] of c) if (n.canHandle(e)) {\n              const [r, o] = n.serialize(e);\n              return [{\n                type: 3,\n                name: t,\n                value: r\n              }, o];\n            }\n            return [{\n              type: 0,\n              value: e\n            }, h.get(e) || []];\n          }\n          function w(e) {\n            switch (e.type) {\n              case 3:\n                return c.get(e.name).deserialize(e.value);\n              case 0:\n                return e.value;\n            }\n          }\n          function E(e, t, n) {\n            return new Promise(r => {\n              const o = new Array(4).fill(0).map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16)).join(\"-\");\n              e.addEventListener(\"message\", function t(n) {\n                n.data && n.data.id && n.data.id === o && (e.removeEventListener(\"message\", t), r(n.data));\n              }), e.start && e.start(), e.postMessage(Object.assign({\n                id: o\n              }, t), n);\n            });\n          }\n        },\n        162: function (e, t, n) {\n          var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {\n              void 0 === r && (r = n), Object.defineProperty(e, r, {\n                enumerable: !0,\n                get: function () {\n                  return t[n];\n                }\n              });\n            } : function (e, t, n, r) {\n              void 0 === r && (r = n), e[r] = t[n];\n            }),\n            o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n              Object.defineProperty(e, \"default\", {\n                enumerable: !0,\n                value: t\n              });\n            } : function (e, t) {\n              e.default = t;\n            }),\n            a = this && this.__importStar || function (e) {\n              if (e && e.__esModule) return e;\n              var t = {};\n              if (null != e) for (var n in e) \"default\" !== n && Object.prototype.hasOwnProperty.call(e, n) && r(t, e, n);\n              return o(t, e), t;\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.createDbWorker = void 0;\n          const i = a(n(870));\n          async function s(e) {\n            if (e.data && \"eval\" === e.data.action) {\n              const t = new Int32Array(e.data.notify, 0, 2),\n                n = new Uint8Array(e.data.notify, 8);\n              let r;\n              try {\n                r = {\n                  ok: await u(e.data.request)\n                };\n              } catch (t) {\n                console.error(\"worker request error\", e.data.request, t), r = {\n                  err: String(t)\n                };\n              }\n              const o = new TextEncoder().encode(JSON.stringify(r));\n              n.set(o, 0), t[1] = o.length, Atomics.notify(t, 0);\n            }\n          }\n          function c(e) {\n            if (\"BODY\" === e.tagName) return \"body\";\n            const t = [];\n            for (; e.parentElement && \"BODY\" !== e.tagName;) {\n              if (e.id) {\n                t.unshift(\"#\" + e.id);\n                break;\n              }\n              {\n                let n = 1,\n                  r = e;\n                for (; r.previousElementSibling;) r = r.previousElementSibling, n++;\n                t.unshift(e.tagName.toLowerCase() + \":nth-child(\" + n + \")\");\n              }\n              e = e.parentElement;\n            }\n            return t.join(\" > \");\n          }\n          function l(e) {\n            return Object.keys(e);\n          }\n          async function u(e) {\n            if (console.log(\"dom vtable request\", e), \"select\" === e.type) return [...document.querySelectorAll(e.selector)].map(t => {\n              const n = {};\n              for (const r of e.columns) \"selector\" === r ? n.selector = c(t) : \"parent\" === r ? t.parentElement && (n.parent = t.parentElement ? c(t.parentElement) : null) : \"idx\" === r || (n[r] = t[r]);\n              return n;\n            });\n            if (\"insert\" === e.type) {\n              if (!e.value.parent) throw Error('\"parent\" column must be set when inserting');\n              const t = document.querySelectorAll(e.value.parent);\n              if (0 === t.length) throw Error(`Parent element ${e.value.parent} could not be found`);\n              if (t.length > 1) throw Error(`Parent element ${e.value.parent} ambiguous (${t.length} results)`);\n              const n = t[0];\n              if (!e.value.tagName) throw Error(\"tagName must be set for inserting\");\n              const r = document.createElement(e.value.tagName);\n              for (const t of l(e.value)) if (null !== e.value[t]) {\n                if (\"tagName\" === t || \"parent\" === t) continue;\n                if (\"idx\" === t || \"selector\" === t) throw Error(`${t} can't be set`);\n                r[t] = e.value[t];\n              }\n              return n.appendChild(r), null;\n            }\n            if (\"update\" === e.type) {\n              const t = document.querySelector(e.value.selector);\n              if (!t) throw Error(`Element ${e.value.selector} not found!`);\n              const n = [];\n              for (const r of l(e.value)) {\n                const o = e.value[r];\n                if (\"parent\" !== r) {\n                  if (\"idx\" !== r && \"selector\" !== r && o !== t[r]) {\n                    if (console.log(\"SETTING \", r, t[r], \"->\", o), \"tagName\" === r) throw Error(\"can't change tagName\");\n                    n.push(r);\n                  }\n                } else if (o !== c(t.parentElement)) {\n                  const e = document.querySelectorAll(o);\n                  if (1 !== e.length) throw Error(`Invalid target parent: found ${e.length} matches`);\n                  e[0].appendChild(t);\n                }\n              }\n              for (const r of n) t[r] = e.value[r];\n              return null;\n            }\n            throw Error(`unknown request ${e.type}`);\n          }\n          i.transferHandlers.set(\"WORKERSQLPROXIES\", {\n            canHandle: e => !1,\n            serialize(e) {\n              throw Error(\"no\");\n            },\n            deserialize: e => (e.start(), i.wrap(e))\n          }), t.createDbWorker = async function (e, t, n, r = 1 / 0) {\n            const o = new Worker(t),\n              a = i.wrap(o),\n              c = await a.SplitFileHttpDatabase(n, e, void 0, r);\n            return o.addEventListener(\"message\", s), {\n              db: c,\n              worker: a,\n              configs: e\n            };\n          };\n        },\n        432: function (e, t, n) {\n          var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {\n              void 0 === r && (r = n), Object.defineProperty(e, r, {\n                enumerable: !0,\n                get: function () {\n                  return t[n];\n                }\n              });\n            } : function (e, t, n, r) {\n              void 0 === r && (r = n), e[r] = t[n];\n            }),\n            o = this && this.__exportStar || function (e, t) {\n              for (var n in e) \"default\" === n || Object.prototype.hasOwnProperty.call(t, n) || r(t, e, n);\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), o(n(162), t);\n        }\n      },\n      t = {};\n    function n(r) {\n      var o = t[r];\n      if (void 0 !== o) return o.exports;\n      var a = t[r] = {\n        exports: {}\n      };\n      return e[r].call(a.exports, a, a.exports, n), a.exports;\n    }\n    return n.d = (e, t) => {\n      for (var r in t) n.o(t, r) && !n.o(e, r) && Object.defineProperty(e, r, {\n        enumerable: !0,\n        get: t[r]\n      });\n    }, n.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t), n.r = e => {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n(432);\n  })();\n});","map":{"version":3,"names":["e","t","exports","module","define","amd","n","r","Symbol","o","a","i","s","c","Map","canHandle","serialize","port1","port2","MessageChannel","l","deserialize","start","f","value","Error","isError","message","name","stack","Object","assign","self","addEventListener","data","id","type","path","argumentList","map","w","slice","reduce","apply","v","y","Promise","resolve","catch","then","b","postMessage","removeEventListener","u","constructor","close","d","p","target","Proxy","get","E","toString","length","bind","set","m","construct","Array","prototype","concat","h","WeakMap","g","fill","Math","floor","random","Number","MAX_SAFE_INTEGER","join","__createBinding","create","defineProperty","enumerable","__setModuleDefault","default","__importStar","__esModule","hasOwnProperty","call","createDbWorker","action","Int32Array","notify","Uint8Array","ok","request","console","error","err","String","TextEncoder","encode","JSON","stringify","Atomics","tagName","parentElement","unshift","previousElementSibling","toLowerCase","keys","log","document","querySelectorAll","selector","columns","parent","createElement","appendChild","querySelector","push","transferHandlers","wrap","Worker","SplitFileHttpDatabase","db","worker","configs","__exportStar","toStringTag"],"sources":["webpack://sql.js-httpvfs/webpack/universalModuleDefinition","webpack://sql.js-httpvfs/node_modules/comlink/dist/esm/comlink.mjs","webpack://sql.js-httpvfs/src/db.ts","webpack://sql.js-httpvfs/src/index.ts","webpack://sql.js-httpvfs/webpack/bootstrap","webpack://sql.js-httpvfs/webpack/runtime/define property getters","webpack://sql.js-httpvfs/webpack/runtime/hasOwnProperty shorthand","webpack://sql.js-httpvfs/webpack/runtime/make namespace object","webpack://sql.js-httpvfs/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn ","/**\r\n * Copyright 2019 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst proxyMarker = Symbol(\"Comlink.proxy\");\r\nconst createEndpoint = Symbol(\"Comlink.endpoint\");\r\nconst releaseProxy = Symbol(\"Comlink.releaseProxy\");\r\nconst throwMarker = Symbol(\"Comlink.thrown\");\r\nconst isObject = (val) => (typeof val === \"object\" && val !== null) || typeof val === \"function\";\r\n/**\r\n * Internal transfer handle to handle objects marked to proxy.\r\n */\r\nconst proxyTransferHandler = {\r\n    canHandle: (val) => isObject(val) && val[proxyMarker],\r\n    serialize(obj) {\r\n        const { port1, port2 } = new MessageChannel();\r\n        expose(obj, port1);\r\n        return [port2, [port2]];\r\n    },\r\n    deserialize(port) {\r\n        port.start();\r\n        return wrap(port);\r\n    },\r\n};\r\n/**\r\n * Internal transfer handler to handle thrown exceptions.\r\n */\r\nconst throwTransferHandler = {\r\n    canHandle: (value) => isObject(value) && throwMarker in value,\r\n    serialize({ value }) {\r\n        let serialized;\r\n        if (value instanceof Error) {\r\n            serialized = {\r\n                isError: true,\r\n                value: {\r\n                    message: value.message,\r\n                    name: value.name,\r\n                    stack: value.stack,\r\n                },\r\n            };\r\n        }\r\n        else {\r\n            serialized = { isError: false, value };\r\n        }\r\n        return [serialized, []];\r\n    },\r\n    deserialize(serialized) {\r\n        if (serialized.isError) {\r\n            throw Object.assign(new Error(serialized.value.message), serialized.value);\r\n        }\r\n        throw serialized.value;\r\n    },\r\n};\r\n/**\r\n * Allows customizing the serialization of certain values.\r\n */\r\nconst transferHandlers = new Map([\r\n    [\"proxy\", proxyTransferHandler],\r\n    [\"throw\", throwTransferHandler],\r\n]);\r\nfunction expose(obj, ep = self) {\r\n    ep.addEventListener(\"message\", function callback(ev) {\r\n        if (!ev || !ev.data) {\r\n            return;\r\n        }\r\n        const { id, type, path } = Object.assign({ path: [] }, ev.data);\r\n        const argumentList = (ev.data.argumentList || []).map(fromWireValue);\r\n        let returnValue;\r\n        try {\r\n            const parent = path.slice(0, -1).reduce((obj, prop) => obj[prop], obj);\r\n            const rawValue = path.reduce((obj, prop) => obj[prop], obj);\r\n            switch (type) {\r\n                case 0 /* GET */:\r\n                    {\r\n                        returnValue = rawValue;\r\n                    }\r\n                    break;\r\n                case 1 /* SET */:\r\n                    {\r\n                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\r\n                        returnValue = true;\r\n                    }\r\n                    break;\r\n                case 2 /* APPLY */:\r\n                    {\r\n                        returnValue = rawValue.apply(parent, argumentList);\r\n                    }\r\n                    break;\r\n                case 3 /* CONSTRUCT */:\r\n                    {\r\n                        const value = new rawValue(...argumentList);\r\n                        returnValue = proxy(value);\r\n                    }\r\n                    break;\r\n                case 4 /* ENDPOINT */:\r\n                    {\r\n                        const { port1, port2 } = new MessageChannel();\r\n                        expose(obj, port2);\r\n                        returnValue = transfer(port1, [port1]);\r\n                    }\r\n                    break;\r\n                case 5 /* RELEASE */:\r\n                    {\r\n                        returnValue = undefined;\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n        catch (value) {\r\n            returnValue = { value, [throwMarker]: 0 };\r\n        }\r\n        Promise.resolve(returnValue)\r\n            .catch((value) => {\r\n            return { value, [throwMarker]: 0 };\r\n        })\r\n            .then((returnValue) => {\r\n            const [wireValue, transferables] = toWireValue(returnValue);\r\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\r\n            if (type === 5 /* RELEASE */) {\r\n                // detach and deactive after sending release response above.\r\n                ep.removeEventListener(\"message\", callback);\r\n                closeEndPoint(ep);\r\n            }\r\n        });\r\n    });\r\n    if (ep.start) {\r\n        ep.start();\r\n    }\r\n}\r\nfunction isMessagePort(endpoint) {\r\n    return endpoint.constructor.name === \"MessagePort\";\r\n}\r\nfunction closeEndPoint(endpoint) {\r\n    if (isMessagePort(endpoint))\r\n        endpoint.close();\r\n}\r\nfunction wrap(ep, target) {\r\n    return createProxy(ep, [], target);\r\n}\r\nfunction throwIfProxyReleased(isReleased) {\r\n    if (isReleased) {\r\n        throw new Error(\"Proxy has been released and is not useable\");\r\n    }\r\n}\r\nfunction createProxy(ep, path = [], target = function () { }) {\r\n    let isProxyReleased = false;\r\n    const proxy = new Proxy(target, {\r\n        get(_target, prop) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            if (prop === releaseProxy) {\r\n                return () => {\r\n                    return requestResponseMessage(ep, {\r\n                        type: 5 /* RELEASE */,\r\n                        path: path.map((p) => p.toString()),\r\n                    }).then(() => {\r\n                        closeEndPoint(ep);\r\n                        isProxyReleased = true;\r\n                    });\r\n                };\r\n            }\r\n            if (prop === \"then\") {\r\n                if (path.length === 0) {\r\n                    return { then: () => proxy };\r\n                }\r\n                const r = requestResponseMessage(ep, {\r\n                    type: 0 /* GET */,\r\n                    path: path.map((p) => p.toString()),\r\n                }).then(fromWireValue);\r\n                return r.then.bind(r);\r\n            }\r\n            return createProxy(ep, [...path, prop]);\r\n        },\r\n        set(_target, prop, rawValue) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            // FIXME: ES6 Proxy Handler `set` methods are supposed to return a\r\n            // boolean. To show good will, we return true asynchronously ¯\\_(ツ)_/¯\r\n            const [value, transferables] = toWireValue(rawValue);\r\n            return requestResponseMessage(ep, {\r\n                type: 1 /* SET */,\r\n                path: [...path, prop].map((p) => p.toString()),\r\n                value,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n        apply(_target, _thisArg, rawArgumentList) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            const last = path[path.length - 1];\r\n            if (last === createEndpoint) {\r\n                return requestResponseMessage(ep, {\r\n                    type: 4 /* ENDPOINT */,\r\n                }).then(fromWireValue);\r\n            }\r\n            // We just pretend that `bind()` didn’t happen.\r\n            if (last === \"bind\") {\r\n                return createProxy(ep, path.slice(0, -1));\r\n            }\r\n            const [argumentList, transferables] = processArguments(rawArgumentList);\r\n            return requestResponseMessage(ep, {\r\n                type: 2 /* APPLY */,\r\n                path: path.map((p) => p.toString()),\r\n                argumentList,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n        construct(_target, rawArgumentList) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            const [argumentList, transferables] = processArguments(rawArgumentList);\r\n            return requestResponseMessage(ep, {\r\n                type: 3 /* CONSTRUCT */,\r\n                path: path.map((p) => p.toString()),\r\n                argumentList,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n    });\r\n    return proxy;\r\n}\r\nfunction myFlat(arr) {\r\n    return Array.prototype.concat.apply([], arr);\r\n}\r\nfunction processArguments(argumentList) {\r\n    const processed = argumentList.map(toWireValue);\r\n    return [processed.map((v) => v[0]), myFlat(processed.map((v) => v[1]))];\r\n}\r\nconst transferCache = new WeakMap();\r\nfunction transfer(obj, transfers) {\r\n    transferCache.set(obj, transfers);\r\n    return obj;\r\n}\r\nfunction proxy(obj) {\r\n    return Object.assign(obj, { [proxyMarker]: true });\r\n}\r\nfunction windowEndpoint(w, context = self, targetOrigin = \"*\") {\r\n    return {\r\n        postMessage: (msg, transferables) => w.postMessage(msg, targetOrigin, transferables),\r\n        addEventListener: context.addEventListener.bind(context),\r\n        removeEventListener: context.removeEventListener.bind(context),\r\n    };\r\n}\r\nfunction toWireValue(value) {\r\n    for (const [name, handler] of transferHandlers) {\r\n        if (handler.canHandle(value)) {\r\n            const [serializedValue, transferables] = handler.serialize(value);\r\n            return [\r\n                {\r\n                    type: 3 /* HANDLER */,\r\n                    name,\r\n                    value: serializedValue,\r\n                },\r\n                transferables,\r\n            ];\r\n        }\r\n    }\r\n    return [\r\n        {\r\n            type: 0 /* RAW */,\r\n            value,\r\n        },\r\n        transferCache.get(value) || [],\r\n    ];\r\n}\r\nfunction fromWireValue(value) {\r\n    switch (value.type) {\r\n        case 3 /* HANDLER */:\r\n            return transferHandlers.get(value.name).deserialize(value.value);\r\n        case 0 /* RAW */:\r\n            return value.value;\r\n    }\r\n}\r\nfunction requestResponseMessage(ep, msg, transfers) {\r\n    return new Promise((resolve) => {\r\n        const id = generateUUID();\r\n        ep.addEventListener(\"message\", function l(ev) {\r\n            if (!ev.data || !ev.data.id || ev.data.id !== id) {\r\n                return;\r\n            }\r\n            ep.removeEventListener(\"message\", l);\r\n            resolve(ev.data);\r\n        });\r\n        if (ep.start) {\r\n            ep.start();\r\n        }\r\n        ep.postMessage(Object.assign({ id }, msg), transfers);\r\n    });\r\n}\r\nfunction generateUUID() {\r\n    return new Array(4)\r\n        .fill(0)\r\n        .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\r\n        .join(\"-\");\r\n}\n\nexport { createEndpoint, expose, proxy, proxyMarker, releaseProxy, transfer, transferHandlers, windowEndpoint, wrap };\n//# sourceMappingURL=comlink.mjs.map\n","\"use strict\";\n/// <reference lib=\"dom\" />\n/// <reference lib=\"dom.iterable\" />\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDbWorker = void 0;\n// TODO: using comlink for all this is a pretty ugly hack\nconst Comlink = __importStar(require(\"comlink\"));\nComlink.transferHandlers.set(\"WORKERSQLPROXIES\", {\n    canHandle: (obj) => false,\n    serialize(obj) {\n        throw Error(\"no\");\n    },\n    deserialize: (port) => {\n        port.start();\n        return Comlink.wrap(port);\n    },\n});\nasync function createDbWorker(configs, workerUrl, wasmUrl, maxBytesToRead = Infinity) {\n    const worker = new Worker(workerUrl);\n    const sqlite = Comlink.wrap(worker);\n    const db = (await sqlite.SplitFileHttpDatabase(wasmUrl, configs, undefined, maxBytesToRead));\n    worker.addEventListener(\"message\", handleAsyncRequestFromWorkerThread);\n    return { db, worker: sqlite, configs };\n}\nexports.createDbWorker = createDbWorker;\nasync function handleAsyncRequestFromWorkerThread(ev) {\n    if (ev.data && ev.data.action === \"eval\") {\n        const metaArray = new Int32Array(ev.data.notify, 0, 2);\n        const dataArray = new Uint8Array(ev.data.notify, 2 * 4);\n        let response;\n        try {\n            response = { ok: await handleDomVtableRequest(ev.data.request) };\n        }\n        catch (e) {\n            console.error(\"worker request error\", ev.data.request, e);\n            response = { err: String(e) };\n        }\n        const text = new TextEncoder().encode(JSON.stringify(response));\n        dataArray.set(text, 0); // need to copy here because:\n        // sadly TextEncoder.encodeInto: Argument 2 can't be a SharedArrayBuffer or an ArrayBufferView backed by a SharedArrayBuffer [AllowShared]\n        // otherwise this would be better:\n        /*const encodeRes = new TextEncoder().encodeInto(response, data);\n        if (encodeRes.read !== response.length) {\n          console.log(encodeRes, response.length)\n          throw Error(`not enough space for response: ${response.length} > ${data.byteLength}`);\n        }*/\n        metaArray[1] = text.length;\n        Atomics.notify(metaArray, 0);\n    }\n}\nfunction getUniqueSelector(elm) {\n    if (elm.tagName === \"BODY\")\n        return \"body\";\n    const names = [];\n    while (elm.parentElement && elm.tagName !== \"BODY\") {\n        if (elm.id) {\n            // assume id is unique (which it isn't)\n            names.unshift(\"#\" + elm.id);\n            break;\n        }\n        else {\n            let c = 1;\n            let e = elm;\n            while (e.previousElementSibling) {\n                e = e.previousElementSibling;\n                c++;\n            }\n            names.unshift(elm.tagName.toLowerCase() + \":nth-child(\" + c + \")\");\n        }\n        elm = elm.parentElement;\n    }\n    return names.join(\" > \");\n}\nfunction keys(o) {\n    return Object.keys(o);\n}\nasync function handleDomVtableRequest(req) {\n    console.log(\"dom vtable request\", req);\n    if (req.type === \"select\") {\n        return [...document.querySelectorAll(req.selector)].map((e) => {\n            const out = {};\n            for (const column of req.columns) {\n                if (column === \"selector\") {\n                    out.selector = getUniqueSelector(e);\n                }\n                else if (column === \"parent\") {\n                    if (e.parentElement) {\n                        out.parent = e.parentElement\n                            ? getUniqueSelector(e.parentElement)\n                            : null;\n                    }\n                }\n                else if (column === \"idx\") {\n                    // ignore\n                }\n                else {\n                    out[column] = e[column];\n                }\n            }\n            return out;\n        });\n    }\n    else if (req.type === \"insert\") {\n        if (!req.value.parent)\n            throw Error(`\"parent\" column must be set when inserting`);\n        const target = document.querySelectorAll(req.value.parent);\n        if (target.length === 0)\n            throw Error(`Parent element ${req.value.parent} could not be found`);\n        if (target.length > 1)\n            throw Error(`Parent element ${req.value.parent} ambiguous (${target.length} results)`);\n        const parent = target[0];\n        if (!req.value.tagName)\n            throw Error(`tagName must be set for inserting`);\n        const ele = document.createElement(req.value.tagName);\n        const cantSet = [\"idx\"];\n        for (const i of keys(req.value)) {\n            if (req.value[i] !== null) {\n                if (i === \"tagName\" || i === \"parent\")\n                    continue;\n                if (i === \"idx\" || i === \"selector\")\n                    throw Error(`${i} can't be set`);\n                ele[i] = req.value[i];\n            }\n        }\n        parent.appendChild(ele);\n        return null;\n    }\n    else if (req.type === \"update\") {\n        const targetElement = document.querySelector(req.value.selector);\n        if (!targetElement)\n            throw Error(`Element ${req.value.selector} not found!`);\n        const toSet = [];\n        for (const k of keys(req.value)) {\n            const v = req.value[k];\n            if (k === \"parent\") {\n                if (v !== getUniqueSelector(targetElement.parentElement)) {\n                    const targetParent = document.querySelectorAll(v);\n                    if (targetParent.length !== 1)\n                        throw Error(`Invalid target parent: found ${targetParent.length} matches`);\n                    targetParent[0].appendChild(targetElement);\n                }\n                continue;\n            }\n            if (k === \"idx\" || k === \"selector\")\n                continue;\n            if (v !== targetElement[k]) {\n                console.log(\"SETTING \", k, targetElement[k], \"->\", v);\n                if (k === \"tagName\")\n                    throw Error(\"can't change tagName\");\n                toSet.push(k); // defer setting to prevent setting multiple interdependent values (e.g. textContent and innerHTML)\n            }\n        }\n        for (const k of toSet) {\n            targetElement[k] = req.value[k];\n        }\n        return null;\n    }\n    else {\n        throw Error(`unknown request ${req.type}`);\n    }\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./db\"), exports);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(432);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}